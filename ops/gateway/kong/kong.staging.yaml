# Specific overrides for our `staging` environment

env:
  headers: "server_tokens, latency_tokens"

proxy:
  loadBalancerIP: 34.136.18.163

ingressController:
  # https://docs.konghq.com/kubernetes-ingress-controller/1.3.x/references/cli-arguments/
  args:
    [
      "--anonymous-reports=false",
      "--log-level=trace",
      "--log-format=json",
      "--profiling=true",
    ]

image:
  repository: gcr.io/voice-service-2-313121/kong@sha256
  tag: 03007271691cf3b2e57d573be02ac6373bf9b4a24efe29c24cd4b7582d061be1

# https://docs.konghq.com/gateway-oss/2.4.x/sizing-guidelines/#scaling-dimensions
resources:
  limits:
    cpu: 1000m
    memory: 2048Mi
  requests:
    cpu: 500m
    memory: 1024Mi

autoscaling:
  minReplicas: 2
  maxReplicas: 3

