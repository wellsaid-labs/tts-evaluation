# Specific overrides for our `staging` environment

ingressController:
  args:
    [
      "–-anonymous-reports=false",
      "–-log-level=trace",
      "–-log-format=json",
      "–-profiling=true",
    ]

image:
  repository: gcr.io/voice-service-2-313121/kong
  tag: "wellsaid-staging"

resources:
  # TODO: refine limits after we perform some load testing
  limits:
    cpu: 100m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 256Mi

replicaCount: 1

autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 2
  ## Otherwise for clusters that do support autoscaling/v2beta, use metrics
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 75
